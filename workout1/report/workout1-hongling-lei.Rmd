---
title: "workout 1"
author: Hongling Lei
output: github_document
---

```{r out.width = '80%', echo = FALSE, fig.align = 'center'}
# To inset an image
knitr::include_graphics("../images/gsw-shot-charts.png")
```

#### 5.1) Effective Shooting Percentage
```{r}
library(dplyr)

shots = read.csv("../data/shots_data.csv")
shots$name = as.character(shots$name) # to make sure it can be grouped by
```

**2PT Effective Shooting % by Player**
```{r}
table_2pt = arrange(summarise(group_by(shots, name),
                  total = sum(shot_type == "2PT Field Goal"),
                  made = sum(shot_type == "2PT Field Goal" & shot_made_flag == "shot_yes"),
                  perc_made = made/total), desc(perc_made))
table_2pt
```


**3PT Effective Shooting % by Player**
```{r}
table_3pt = arrange(summarise(group_by(shots, name),
                  total = sum(shot_type == "3PT Field Goal"),
                  made = sum(shot_type == "3PT Field Goal" & shot_made_flag == "shot_yes"),
                  perc_made = made/total), desc(perc_made))
table_3pt
```


**Effective Shooting % by Player**
```{r}
table_overall = arrange(summarise(group_by(shots, name),
                  total = sum(shot_made_flag == "shot_yes" | shot_made_flag == "shot_no"),
                  made = sum(shot_made_flag == "shot_yes"),
                  perc_made = made/total), desc(perc_made))
table_overall
```

